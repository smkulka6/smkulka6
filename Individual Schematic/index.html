
<!doctype html>
<html lang="en" class="no-js">
  <head>
    

<meta name="robots" content="nofollow" />


      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://embedded-systems-design.github.io/template_report/Individual%20Schematic/">
      
      
        <link rel="prev" href="../Component_Selection/">
      
      
        <link rel="next" href="../PIC%20Table/">
      
      
      <link rel="icon" href="../static/logo.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.4.0">
            

        

    
      
        <title>Motor Driver Subsystem ‚Äì Final Hardware Design Documentation (Extended) - EGR314 Report Template</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.9f615399.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.649f08f9.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    


   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#motor-driver-subsystem-final-hardware-design-documentation-extended" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="EGR314 Report Template" class="md-header__button md-logo" aria-label="EGR314 Report Template" data-md-component="logo">
      
  <img src="../static/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            EGR314 Report Template
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Motor Driver Subsystem ‚Äì Final Hardware Design Documentation (Extended)
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/embedded-systems-design/template_report" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Siddhant Kulkarni Project Repository

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../API/" class="md-tabs__link">
        
  
    
  
  Motor Driver Subsystem API Documentation

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../BillofMaterials/" class="md-tabs__link">
        
  
    
  
  Bill Of Materials

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../Block%20Diagram/" class="md-tabs__link">
        
  
    
  
  Block Diagram

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../Component_Selection/" class="md-tabs__link">
        
  
    
  
  Major Component Selection &amp; Comparison

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  Motor Driver Subsystem ‚Äì Final Hardware Design Documentation (Extended)

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../PIC%20Table/" class="md-tabs__link">
        
  
    
  
  PIC Table

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../Power_Budget/" class="md-tabs__link">
        
  
    
  
  Power Budget Calculation ‚ö°

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../Resources/" class="md-tabs__link">
        
  
    
  
  Motor Driver Subsystem: Resources

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../subfolder/" class="md-tabs__link">
          
  
    
  
  Subfolder

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="EGR314 Report Template" class="md-nav__button md-logo" aria-label="EGR314 Report Template" data-md-component="logo">
      
  <img src="../static/logo.svg" alt="logo">

    </a>
    EGR314 Report Template
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/embedded-systems-design/template_report" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Siddhant Kulkarni Project Repository
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../API/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Motor Driver Subsystem API Documentation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../BillofMaterials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bill Of Materials
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Block%20Diagram/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Block Diagram
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Component_Selection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Major Component Selection &amp; Comparison
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Motor Driver Subsystem ‚Äì Final Hardware Design Documentation (Extended)
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Motor Driver Subsystem ‚Äì Final Hardware Design Documentation (Extended)
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    üß© Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#final-schematic-as-fabricated" class="md-nav__link">
    üì∑ Final Schematic (As Fabricated)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#final-pcb-as-fabricated" class="md-nav__link">
    üõ†Ô∏è Final PCB (As Fabricated)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#design-files" class="md-nav__link">
    üìÇ Design Files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functional-analysis-how-this-meets-system-requirements" class="md-nav__link">
    ‚úÖ Functional Analysis: How This Meets System Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#design-and-decision-process" class="md-nav__link">
    üß† Design and Decision Process
  </a>
  
    <nav class="md-nav" aria-label="üß† Design and Decision Process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-microcontroller-selection-pic18f47q10" class="md-nav__link">
    1. Microcontroller Selection ‚Äì PIC18F47Q10
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-motor-driver-ic-ifx9201sgauma1" class="md-nav__link">
    2. Motor Driver IC ‚Äì IFX9201SGAUMA1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-power-architecture-ap63203wu-buck-regulator" class="md-nav__link">
    3. Power Architecture ‚Äì AP63203WU Buck Regulator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-debug-features" class="md-nav__link">
    4. Debug Features
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-connector-and-layout" class="md-nav__link">
    5. Connector and Layout
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-20-hardware-design-plan" class="md-nav__link">
    üîÑ Version 2.0 Hardware Design Plan
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5w-justification" class="md-nav__link">
    üîç 5W Justification
  </a>
  
    <nav class="md-nav" aria-label="üîç 5W Justification">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what" class="md-nav__link">
    What
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why" class="md-nav__link">
    Why
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when" class="md-nav__link">
    When
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#where" class="md-nav__link">
    Where
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how" class="md-nav__link">
    How
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#final-summary" class="md-nav__link">
    ‚úÖ Final Summary
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../PIC%20Table/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PIC Table
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Power_Budget/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Power Budget Calculation ‚ö°
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Motor Driver Subsystem: Resources
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../subfolder/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Subfolder
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    üß© Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#final-schematic-as-fabricated" class="md-nav__link">
    üì∑ Final Schematic (As Fabricated)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#final-pcb-as-fabricated" class="md-nav__link">
    üõ†Ô∏è Final PCB (As Fabricated)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#design-files" class="md-nav__link">
    üìÇ Design Files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functional-analysis-how-this-meets-system-requirements" class="md-nav__link">
    ‚úÖ Functional Analysis: How This Meets System Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#design-and-decision-process" class="md-nav__link">
    üß† Design and Decision Process
  </a>
  
    <nav class="md-nav" aria-label="üß† Design and Decision Process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-microcontroller-selection-pic18f47q10" class="md-nav__link">
    1. Microcontroller Selection ‚Äì PIC18F47Q10
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-motor-driver-ic-ifx9201sgauma1" class="md-nav__link">
    2. Motor Driver IC ‚Äì IFX9201SGAUMA1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-power-architecture-ap63203wu-buck-regulator" class="md-nav__link">
    3. Power Architecture ‚Äì AP63203WU Buck Regulator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-debug-features" class="md-nav__link">
    4. Debug Features
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-connector-and-layout" class="md-nav__link">
    5. Connector and Layout
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-20-hardware-design-plan" class="md-nav__link">
    üîÑ Version 2.0 Hardware Design Plan
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5w-justification" class="md-nav__link">
    üîç 5W Justification
  </a>
  
    <nav class="md-nav" aria-label="üîç 5W Justification">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what" class="md-nav__link">
    What
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why" class="md-nav__link">
    Why
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when" class="md-nav__link">
    When
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#where" class="md-nav__link">
    Where
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how" class="md-nav__link">
    How
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#final-summary" class="md-nav__link">
    ‚úÖ Final Summary
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/embedded-systems-design/template_report/edit/main/docs/Individual Schematic.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  


<h1 id="motor-driver-subsystem-final-hardware-design-documentation-extended">Motor Driver Subsystem ‚Äì Final Hardware Design Documentation (Extended)</h1>
<h2 id="overview">üß© Overview</h2>
<p>This document offers a complete and expanded technical explanation of the hardware design for the Motor Driver Subsystem. The design is intended for use in a multi-subsystem embedded system project that coordinates sensor readings, real-time control, and remote monitoring via MQTT. This motor subsystem receives commands over UART, processes them on a PIC18F47Q10 microcontroller, and sends SPI-based control signals to an IFX9201SGAUMA1 motor driver IC.</p>
<hr />
<h2 id="final-schematic-as-fabricated">üì∑ Final Schematic (As Fabricated)</h2>
<p><a class="glightbox" href="../Schematic.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Schematic Image" src="../Schematic.png" /></a></p>
<hr />
<h2 id="final-pcb-as-fabricated">üõ†Ô∏è Final PCB (As Fabricated)</h2>
<p>Please attach clear front and back images of the manufactured PCB here once assembled.</p>
<p><a class="glightbox" href="/mnt/data/a93885e3-9447-4aa5-94d4-1aae94810fff.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="PCB_Front" src="/mnt/data/a93885e3-9447-4aa5-94d4-1aae94810fff.png" /></a></p>
<p><a class="glightbox" href="/mnt/data/a93885e3-9447-4aa5-94d4-1aae94810fff.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="PCB_Back" src="/mnt/data/a93885e3-9447-4aa5-94d4-1aae94810fff.png" /></a></p>
<hr />
<h2 id="design-files">üìÇ Design Files</h2>
<ul>
<li>‚úÖ Final ECAD Altium Project (.SchDoc, .PcbDoc)</li>
<li>‚úÖ Gerber Files for PCB Fabrication (.zip)</li>
<li>‚úÖ Bill of Materials (BOM in CSV/Excel format)</li>
</ul>
<p>‚û°Ô∏è <a href="./Final_Altium_PCB.zip">Final_Altium_PCB.zip</a><br />
‚û°Ô∏è <a href="./Motor_Subsystem_Gerbers.zip">Motor_Subsystem_Gerbers.zip</a><br />
‚û°Ô∏è <a href="./Motor_BOM.csv">Motor_BOM.csv</a></p>
<hr />
<h2 id="functional-analysis-how-this-meets-system-requirements">‚úÖ Functional Analysis: How This Meets System Requirements</h2>
<p>This motor driver hardware fulfills the EGR 314 embedded systems design project requirements by providing:</p>
<ol>
<li>
<p><strong>Subsystem Modularity:</strong> The motor subsystem was intentionally designed to operate independently within the larger system architecture by leveraging UART and SPI protocols. It receives commands via UART from Sanjit‚Äôs Web subsystem and simultaneously uses SPI to issue motor control commands to the IFX9201 driver. This separation of responsibilities allows the subsystem to forward unrelated messages (daisy-chain protocol), ensuring scalability. In future systems, new nodes could be added to the UART chain without breaking existing communication, maintaining modularity and reducing integration complexity.</p>
</li>
<li>
<p><strong>Accurate Actuation:</strong> The use of the IFX9201SGAUMA1 motor driver IC enables precise bidirectional control through digital SPI commands instead of noisy analog signals. This ensures consistent behavior across all motor states (forward, reverse, off) without relying on duty cycle modulation. SPI‚Äôs inherent noise immunity and deterministic command structure reduce timing uncertainties and electromagnetic interference (EMI), leading to smoother and more reliable motor transitions. This precision is essential when integrating with time-sensitive feedback systems, such as thermal regulation based on sensor input.</p>
</li>
<li>
<p><strong>Real-time Responsiveness:</strong> The PIC18F47Q10 is configured to continuously listen to the UART line using interrupt-driven or polling-based logic, depending on project constraints. Once a valid message addressed to 'S' (motor subsystem) is received and verified, it is parsed and acted upon immediately. This ensures real-time responsiveness to changing conditions or user inputs. For instance, when Sanjit sends a message like FSTS03FS, the motor subsystem reacts without noticeable delay, making the system suitable for use in interactive or reactive control environments.</p>
</li>
<li>
<p><strong>Status Transparency:</strong> Every time the motor changes state, the subsystem sends out two separate UART messages to Kevin (HMI) and Sanjit (cloud logger) to keep both endpoints updated. These messages follow the same 8-byte protocol and indicate whether the motor is off, forward, or reverse. This dual-broadcast design ensures visibility across human and server interfaces, fulfilling the project‚Äôs requirement for feedback-driven control. It also facilitates debugging and monitoring by making all system state changes observable in real-time from multiple vantage points.</p>
</li>
<li>
<p><strong>Safe Operation:</strong> The power system was engineered with safety and durability in mind. A resettable fuse limits input current and prevents board damage in case of short circuits or overvoltage. The AP63203WU buck regulator efficiently steps down voltage while minimizing heat, ensuring that both the MCU and motor driver operate within safe electrical tolerances. Additional decoupling capacitors reduce power ripple and prevent brownouts during state transitions. These hardware choices collectively make the subsystem robust for repeated lab usage and potential deployment in field prototypes.</p>
</li>
</ol>
<hr />
<h2 id="design-and-decision-process">üß† Design and Decision Process</h2>
<p>Designing this subsystem required careful evaluation of electrical, mechanical, and communication needs. Below is a breakdown of each major decision with reasoning to show why each component was chosen over alternatives.</p>
<h3 id="1-microcontroller-selection-pic18f47q10">1. Microcontroller Selection ‚Äì PIC18F47Q10</h3>
<p>We selected the PIC18F47Q10 because it offers a highly capable yet accessible feature set suitable for embedded control applications. Its dual UART and SPI peripherals were critical for our architecture, which relies on UART-based daisy-chained communication and SPI-based motor control. Unlike the ATmega328, which only supports one UART and has limited flash and RAM, the PIC18F47Q10 supports advanced communication, larger memory, and a more robust interrupt system. Compared to STM32 alternatives, it allowed us to stay within the MPLAB X ecosystem, which we were already proficient in, and use the MCC tool to autogenerate peripheral setup and reduce code errors. This decision minimized our development time and lowered the barrier for other teammates who might need to interface with the MCU.</p>
<h3 id="2-motor-driver-ic-ifx9201sgauma1">2. Motor Driver IC ‚Äì IFX9201SGAUMA1</h3>
<p>We chose the Infineon IFX9201SGAUMA1 over more common motor drivers like the L298N and DRV8833 due to its efficient digital interface and low-loss switching behavior. While L298N requires PWM signals and introduces voltage drops that reduce motor torque, the IFX9201 allows full-bridge control via SPI commands, eliminating analog signal inconsistencies. This digital control approach meant we could integrate the motor logic cleanly into firmware and synchronize motor commands precisely with UART message reception. The IFX9201 also includes built-in protections like current limiting and thermal shutdown, making it safer and more reliable under variable load conditions. The IC‚Äôs compact form factor further helped reduce board size and routing complexity.</p>
<h3 id="3-power-architecture-ap63203wu-buck-regulator">3. Power Architecture ‚Äì AP63203WU Buck Regulator</h3>
<p>Our power supply architecture was designed for efficiency, reliability, and robustness. We used the AP63203WU buck regulator to step down 9‚Äì12V DC input to a stable 5V output for both the microcontroller and motor driver. Unlike linear regulators such as the AMS1117, which waste power as heat, the buck converter maintains high efficiency even at higher currents. This was particularly important for our subsystem, which includes high-current motor outputs. The AP63203WU was chosen for its compact footprint, internal compensation, and ability to supply over 2A of current. A resettable polyfuse was added in series before the converter to protect against short circuits or current spikes. Together, these choices ensured that our hardware would run cool, stable, and safely even in extended lab tests or real-world deployments.</p>
<h3 id="4-debug-features">4. Debug Features</h3>
<p>Effective debugging was one of our top priorities due to the real-time nature of motor control. To aid in hardware verification and runtime debugging, we included LED indicators on the board to reflect motor state (OFF, FORWARD, REVERSE) and power status. This provided immediate visual feedback, especially useful when testing UART messages or SPI commands. Additionally, we routed test points for all critical lines, including CS, MOSI, SCK (SPI), and RX/TX (UART), allowing easy access for logic analyzers or oscilloscopes. These additions were especially useful when troubleshooting message corruption, SPI timing mismatches, or unexpected motor behavior. By investing in built-in debugging aids, we significantly reduced development time and made it easier to perform low-level signal analysis during integration with other subsystems.</p>
<h3 id="5-connector-and-layout">5. Connector and Layout</h3>
<p>We designed our PCB layout to prioritize safety, modularity, and noise isolation. For high-current paths like motor outputs, we used screw terminal blocks instead of header pins to provide secure and solderless wire connections. These terminals could handle the expected motor current without risk of disconnection or overheating. To reduce electromagnetic interference (EMI), the PCB was zoned into distinct regions: power input and regulation, logic/control (microcontroller + SPI), and motor output. This separation reduced signal coupling and made the board easier to debug and modify. Key capacitors were placed close to the motor driver and MCU power pins to suppress voltage ripple and prevent logic faults. The layout also left space for future version enhancements, such as adding UART programming headers or external sensors.</p>
<hr />
<h2 id="version-20-hardware-design-plan">üîÑ Version 2.0 Hardware Design Plan</h2>
<p>If a second version were to be developed, we would improve the design with the following upgrades:</p>
<ol>
<li><strong>Onboard Debug Interface</strong>  </li>
<li>
<p>AOne of the main bottlenecks during firmware testing was the dependency on an external ICSP programmer and serial debug tools. A USB-to-UART converter (like CH340C or FT232RL) could be integrated directly onto the board, providing a plug-and-play debug console without needing specialized hardware. This would reduce development time and make the system more self-contained and field-deployable‚Äîespecially useful in educational or prototype deployments where rapid iteration is necessary.</p>
</li>
<li>
<p><strong>Improved Silkscreen and Labeling</strong>  </p>
</li>
<li>
<p>While the test points and terminals are functional, their current labeling lacks visibility under time pressure or when shared across team members. Adding a detailed silkscreen with clear labels like "TP-SCK", "TP-MOSI", or "UART-RX" directly on the PCB would drastically improve usability during validation. These labels would help avoid wiring errors, enable quicker handoffs between teammates, and support better documentation alignment with the schematic and firmware.</p>
</li>
<li>
<p><strong>Enhanced EMC Protection</strong><br />
   -In Version 1.0, basic filtering was handled through bypass capacitors, but higher-frequency transients can still interfere with UART and SPI communications. Adding TVS diodes to key lines (especially UART RX/TX and SPI SCK) would protect the MCU against electrostatic discharge (ESD) or voltage spikes. Series resistors and RC snubbers could also be implemented for SPI lines to prevent ringing and improve signal integrity in longer trace configurations.</p>
</li>
<li>
<p><strong>Thermal Optimization</strong>  </p>
</li>
<li>
<p>Although thermal performance was acceptable under lab testing, future versions could be improved by relocating the buck regulator to minimize trace length between high-current input and output paths. This would reduce IR losses and heat generation. Adding copper pour areas and thermal vias underneath the regulator and driver ICs would improve heat dissipation. These improvements would make the board more resilient under higher motor loads or in environments with limited airflow.</p>
</li>
<li>
<p><strong>Bootloader Support</strong>  </p>
</li>
<li>To enhance flexibility during software updates, we would add a UART bootloader circuit selectable via jumper. This would allow firmware reprogramming directly via serial interface without needing ICSP. During development or future iterations, updates could be deployed through a terminal or script, supporting faster cycles and better accessibility for non-Microchip environments. It also aligns with good design practice for modular embedded systems that may evolve post-deployment.</li>
</ol>
<hr />
<h2 id="5w-justification">üîç 5W Justification</h2>
<h3 id="what"><strong>What</strong></h3>
<p>A compact embedded motor controller that responds to UART messages and issues motor state changes using SPI, while ensuring real-time feedback and robust power delivery.</p>
<h3 id="why"><strong>Why</strong></h3>
<p>The project required a modular, real-world implementable actuator system. This subsystem meets the requirement by providing hardware-level motor control, a reliable UART communication handler, and a minimalistic SPI-based design that simplifies MCU load.</p>
<h3 id="when"><strong>When</strong></h3>
<p>This design was finalized in April 2025 after multiple prototype iterations and integrated lab testing with the Sensor, Web, and HMI subsystems. The schematic reflects the third major version of the hardware design.</p>
<h3 id="where"><strong>Where</strong></h3>
<p>Implemented fully on a 2-layer custom PCB using Altium Designer, hosted as part of the team GitHub repository. Interfaces with external UART and motor connections for plug-and-play testing.</p>
<h3 id="how"><strong>How</strong></h3>
<ul>
<li>System is powered via DC jack through a fuse into a buck regulator.</li>
<li>The PIC continuously listens for UART frames, validates headers and IDs.</li>
<li>When a valid command is detected (e.g., ‚ÄúFSTS02FS‚Äù), it triggers a matching SPI command to the IFX9201 (e.g., 0b11101111 for FORWARD).</li>
<li>Motor driver updates are broadcasted back to the Web (T) and HMI (K).</li>
</ul>
<hr />
<h2 id="final-summary">‚úÖ Final Summary</h2>
<p>This hardware design meets all project criteria for an actuator subsystem. It enables precise motor control, seamless integration with other UART-based components, and feedback mechanisms. Designed with practical manufacturing and testing in mind, it also forms a solid foundation for future field-deployable embedded systems.</p>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../Component_Selection/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Major Component Selection &amp;amp; Comparison" rel="prev">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Major Component Selection &amp; Comparison
              </div>
            </div>
          </a>
        
        
          
          <a href="../PIC%20Table/" class="md-footer__link md-footer__link--next" aria-label="Next: PIC Table" rel="next">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                PIC Table
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 team-name-here
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="/2023_fall" target="_blank" rel="noopener" title="2023 Site" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h160v80c0 17.7 14.3 32 32 32h80v288c0 8.8-7.2 16-16 16H64zM64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3l-90.6-90.5C262.7 6.7 246.5 0 229.5 0H64zm97 289c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L79 303c-9.4 9.4-9.4 24.6 0 33.9l48 48c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-31-31 31-31zm96-34c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l31 31-31 31c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l48-48c9.4-9.4 9.4-24.6 0-33.9l-48-48z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.tabs.sticky", "toc.follow", "navigation.top", "navigation.path", "navigation.indexes", "navigation.prune", "content.action.edit", "navigation.footer"], "search": "../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.4e0fa4ba.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>